---
import BaseLayout from "../layouts/BaseLayout.astro";
import { getHomepage } from "../utils/contentful.js";

const homepage = await getHomepage();
---

<BaseLayout title="Home | My Astro Site">
  <!-- Hero Section -->
  <div class="hero-wrapper">
    <div class="hero container">
      <div class="hero-text">
        <h1>{homepage.heroTitle}</h1>
        <p>{homepage.heroText}</p>
      </div>
      <div class="hero-image">
        <img src={homepage.heroImage.fields.file.url} alt="Hero image" />
      </div>
    </div>
  </div>

  <!-- About Section -->
  <section class="about-section">
    <div class="container about">
      <div class="about-text">
        <h2>About Us</h2>
        <p>{homepage.aboutText1}</p>
        <p>{homepage.aboutText2}</p>
      </div>
      <div class="about-image">
        <img src={homepage.aboutImage.fields.file.url} alt="Our Team" />
      </div>
    </div>
  </section>

  <!-- Services / Features -->
  <section class="features container">
    <h2>What We Offer</h2>
    <div class="feature-grid">
      <div class="feature-item">
        <h3>⚡ Speed</h3>
        <p>Astro delivers performance-focused static sites out of the box.</p>
      </div>
      <div class="feature-item">
        <h3>🛠️ Flexibility</h3>
        <p>Use your favorite components—React, Vue, or no JS at all.</p>
      </div>
      <div class="feature-item">
        <h3>📱 Responsive</h3>
        <p>Every layout looks beautiful on desktop, tablet, and mobile.</p>
      </div>
    </div>
  </section>

  <!-- Blog Preview Section -->
  <section class="blog-preview container blog-wrapper">
    <div class="blog-preview container">
      <h2>From the Blog</h2>
      <article class="blog-card">
        <h3><a href="/blog/welcome">Welcome to the Blog</a></h3>
        <p>This is a blog post written in Markdown and rendered by Astro.</p>
      </article>
    </div>
  </section>

  <!-- Call to Action -->
  <section class="cta-wrapper">
    <div class="cta container">
      <h2>Ready to Launch Your Site?</h2>
      <p>Contact us today and let's build something great together.</p>
      <a href="/contact" class="cta-button">{homepage.ctaTitle}</a>
    </div>
  </section>

  <!-- Named Slots from Layout -->
  <div slot="banner" class="banner">
    <p>{homepage.bannerText}</p>
  </div>

  <div slot="sidebar">
    <p>🗂 Quick links or info on the side.</p>
  </div>

  <div slot="footer">
    <p>{homepage.footerText}</p>
  </div>
</BaseLayout>
